<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Bestride Admin Panel</title>
  <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDLW2JAH7IrHRloCFfaFTr1JB3DzsFPpDU&libraries=places" async defer></script>
  <style>
    body { font-family: Arial, sans-serif; margin: 20px; }
    table { width: 100%; border-collapse: collapse; margin-top: 10px; }
    th, td { border: 1px solid #ccc; padding: 8px; text-align: left; }
    #map { height: 300px; width: 100%; margin-top: 10px; }
  </style>
</head>
<body>
  <h1>Bestride Admin Panel</h1>

  <h2>Reservations</h2>
  <table id="reservationsTable">
    <thead>
      <tr>
        <th>Name</th><th>Origin</th><th>Destination</th><th>Phone</th><th>Date</th><th>Time</th>
      </tr>
    </thead>
    <tbody></tbody>
  </table>

  <h2>Add Test Reservation</h2>
  <form id="adminForm">
    <input type="text" id="adminName" placeholder="Your name" required>
    <input type="text" id="adminOrigin" placeholder="123 Main St, Charlotte" required>
    <input type="text" id="adminDestination" placeholder="CLT Airport" required>
    <input type="text" id="adminPhone" placeholder="+1XXXXXXXXXX" required>
    <input type="date" id="adminDate" required>
    <input type="time" id="adminTime" required>
    <button type="submit">Add Reservation</button>
  </form>

  <div id="map"></div>

  <script>
    let map;
    let reservations = [];

    function initMap() {
      map = new google.maps.Map(document.getElementById("map"), {
        center: { lat: 35.2271, lng: -80.8431 },
        zoom: 12
      });
    }

    window.initMap = initMap;

    function addReservationToTable(reservation) {
      const tbody = document.querySelector('#reservationsTable tbody');
      const row = document.createElement('tr');
      row.innerHTML = `
        <td>${reservation.name}</td>
        <td>${reservation.origin}</td>
        <td>${reservation.destination}</td>
        <td>${reservation.phone}</td>
        <td>${reservation.date}</td>
        <td>${reservation.time}</td>
      `;
      tbody.appendChild(row);
    }

    document.getElementById('adminForm').addEventListener('submit', async (e) => {
      e.preventDefault();

      const reservation = {
        name: document.getElementById('adminName').value,
        origin: document.getElementById('adminOrigin').value,
        destination: document.getElementById('adminDestination').value,
        phone: document.getElementById('adminPhone').value,
        date: document.getElementById('adminDate'
